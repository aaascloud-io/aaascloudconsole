<!--BEGIN CONTENT-->
<div class="page-content" style="height: -webkit-fill-available;" @bottom_flyIn>
  <div id="tab-general">

    <div id="list-area" class="panel panel-grey">
      <div class="panel-heading">ユーザー一覧</div>
      <div class="panel-body">
        <div>
          <a class="btn btn-green navbar-btn" style="margin-right: 5px;" [routerLink]="[ '../create' ]">
            新　規
          </a>
          <a class="btn btn-green navbar-btn"  style="margin-right: 5px;" 
            data-target="#myModalByChckebox" data-toggle="modal">
            削　除
          </a>
          <a class="btn btn-green navbar-btn" style="margin-right: 5px;" (click)="getUserList()">
            リロード
          </a>
          <img *ngIf="loading" class="loading" src="../../../../../../assets/images/loading.gif">
        </div>
        <table id="list-table" class="table table-hover table-bordered" cellspacing="0">
          <thead>
            <tr>
              <th scope="col"></th>
              <th scope="col">No.</th>
              <th scope="col">UID</th>
              <th scope="col">ログインID</th>
              <th scope="col">所有者</th>
              <th scope="col">デバイス数</th>
              <th scope="col">メール</th>
              <th scope="col">ユーザー件数</th>
              <th scope="col">操作</th>
            </tr>
          </thead>
          <tbody>
            <tr style="cursor: pointer" *ngFor="let item of pageModel.shows; let i = index;">
              <td>
                <input type="checkbox" style="width: 1.8rem; height: 1.8rem;" [(ngModel)]="item.removing">
              </td>
              <td data-label="No.">{{item.no}}</td>
              <td data-label="UID">{{item.id}}</td>
              <td data-label="ログインID">{{item.username}}</td>
              <td data-label="所有者">{{item.firstName}}</td>
              <td data-label="デバイス数" style="text-align:center">
                <a [routerLink]="['../../device/list']" [queryParams]="{userid:item.userId, deviceid:item.deviceId}">12</a>
              </td>
              <td data-label="メール">{{item.email}}</td>
              <td data-label="ユーザー数" style="text-align:center">
                <a [routerLink]="[ '../modify' ]" [queryParams]="{uid:item.uid}">件数</a>
              </td>
              <td data-label="操作" style="text-align:center">
                <a [routerLink]="[ '../modify' ]" [queryParams]="{uid:item.uid}">詳細</a>
              </td>
            </tr>
          </tbody>
        </table>
        <page [(pagination)]="pagination" *ngIf="pageModel.matches.length > 0"></page>
      </div>
    </div>
    
  </div>
</div>
<!--END CONTENT-->

<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">ご注意ください.</h4>
      </div>
      <div class="modal-body">
        <p>このユーザーを削除してもよろしいですか？</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="delete()">削除</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">キャンセル</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="myModalByChckebox" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">ご注意ください.</h4>
      </div>
      <div class="modal-body">
        <p>選択されたユーザーを削除してもよろしいですか？</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="delete()">削除</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">キャンセル</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal end-->
